DROP VIEW IF EXISTS v2;
DROP VIEW IF EXISTS v1;
CREATE VIEW v1(a, b) AS SELECT 1, 2;

CREATE VIEW v2 AS SELECT b,a FROM v1;

--- t1
---  t2

DROP VIEW IF EXISTS v3;
DROP VIEW IF EXISTS v4;
DROP GROUP IF EXISTS t1;
DROP TABLE IF EXISTS t2;
DROP TABLE IF EXISTS t1;

CREATE TABLE t1(
  id INT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1),
  CONSTRAINT t1_pkey PRIMARY KEY (id),
  s VARCHAR(10) CHARACTER SET utf8 COLLATE ucs_binary
);

CREATE TABLE t2(
  id INT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1),
  CONSTRAINT t2_pkey PRIMARY KEY (id),
  pid INT NOT NULL,
  GROUPING FOREIGN KEY(pid) REFERENCES t1(id)
);



CREATE VIEW v3 AS SELECT t1.id, s FROM t1 INNER JOIN t2 ON t1.id = t2.pid;


--- t3

DROP TABLE IF EXISTS t3;

CREATE TABLE t3(
  n DECIMAL(10,2),
  pid INT
);



CREATE VIEW v4 AS SELECT n, s FROM t3, t1 WHERE t3.pid = t1.id;


